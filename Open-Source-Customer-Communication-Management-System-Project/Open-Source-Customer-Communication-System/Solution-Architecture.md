# 5.1.1	Components and their Relationships 
Daigram:

![SolutionArchitecture.png](/.attachments/SolutionArchitecture-441c05a0-ce55-435d-8f8c-7f32a4dde55a.png)

| Item                           | Description                                                                                                                                                                                                                                                                                                              | Item Type             |
|--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
| Access Management              | Controls which users and groups have access to specific functions and data within the system. Access is expected to be federated with the OM IAM system which will provide authentication of a User and triage access to Administrative and Standard Users.                                                              | Application Component |
| Browser / App                  | Either a web browser or an application that is rendering content using HTML / CSS to display that content.                                                                                                                                                                                                               | Application Service   |
| Data gathering                 | A component implemented by a calling system to gather data for transmission to this system.                                                                                                                                                                                                                              | Application Component |
| Composition Engine             | This is the core of the system and generates the necessary items for a request. Section ‎5.1.1.1                                                                                                                                                                                                                          | Application Component |
|                                | Composition Engine *(Page 16)* describes this component in more detail.                                                                                                                                                                                                                                                  |                       |
| Correlation                    | Provides the mechanism and data for correlating an outbound message item with a possible return message such as an SMS, email, Facebook message etc.                                                                                                                                                                     | Data Object           |
| Custom Code                    | This component provides a scaffolding for commonly used or complex functions and rules that can be written by developers and incorporated into the system dynamically. These functions would be written to a specified Interface in C\# (or other CLR language).                                                         | Application Component |
| External App Data Gateway      | The Data Gateway provides the mechanism for the system to access the data required for merging with templates, evaluating functions and rules.                                                                                                                                                                           | Application Component |
| External Request               | An External Request is the request data object that is passed to the system through an API call to initiate the creation of a set of items defined by the system reference data. A request consists of:                                                                                                                  |                       |
| Request Type                   | For example: POLICY_WELCOME_PACK                                                                                                                                                                                                                                                                                         |                       |
| External App Data Gateway Keys | A JSON object containing the necessary key values to enable the External App Data Gateway to retrieve the data necessary for the Request Type                                                                                                                                                                            |                       |
| Custom Data                    | A JSON object containing Name / Value pairs that can be                                                                                                                                                                                                                                                                  | Data Object           |
| HTML 5 Editor                  | A drag and drop editor that is used to create the template content. Section 17 HTML Editor *(Page 17)* describes this in more detail.                                                                                                                                                                                    | Application Component |
| Inbound Routing                | Receives inbound messages, resolves correlation and stores the content for later querying by the External System.                                                                                                                                                                                                        | Application Component |
| Interactive Editing Author     | A user who needs to modify output items before rendering to select optional sections and complete free text areas.                                                                                                                                                                                                       | Business Actor        |
| Master Template                | Templates represent the design of the outputs that are to be rendered and distributed.                                                                                                                                                                                                                                   | Data Object           |
| Outbound Routing               | Takes items from the Routing Queue and finds the External Service that can deliver the item and monitors and reports on the progress and status of deliveries.                                                                                                                                                           | Application Component |
| PDF renderer                   | Mechanism for rendering HTML / CSS as a PDF                                                                                                                                                                                                                                                                              | Application Component |
| Pre-Render Editor              | Interactive editing is the mechanism by which an output items may be presented to a user with various options available to include or exclude nominated blocks in the item as well as optionally manually enter text into nominated free text areas. Section *‎5.1.1.3 Pre-Render Editor (Page 17)* provides more detail. | Application Component |
| Render Engine                  | The Render Engine is responsible for rendering items that have been presented on the Render Queue and producing the end format of the item be it PDF, email, SMS etc. *‎5.1.1.4* Render Engine *(Page 18)* provides more detail.                                                                                          | Application Component |
| Render Queue                   | Requests processed by the Composition engine are queued for rendering on the Render Queue. The requests on the queues may be served by multiple instances of the Rendering Engine and may have different priorities to influence the order and urgency of the processing. Queueing is provided by MSMQ.                  | Technology Service    |
| Render Request                 | A Render Request is a request for the rendering Engine to produce a single output which may be a PDF, email, SMS etc.                                                                                                                                                                                                    | Data Object           |
| Rendered Item                  | Rendered Items are instances of PDFs, emails, SMSs, HTML documents etc with a specific recipient for each (e.g. copies are rendered into separate items).                                                                                                                                                                | Data Object           |
| Request API                    | The Request API provides the sole mechanism for requesting the system to perform its functions. It is secured and ensures that the entire system and its internal functions are opaque to the caller.                                                                                                                    | Application Service   |
| Request Queue                  | Calls to the Request API are queued for processing on the Request Queue. The requests on the queues may be served by multiple instances of the Composition Engine and may have different priorities to influence the order and urgency of the processing. Queueing is provided by MSMQ.                                  | Technology Service    |
| Request Reference data         | The systems own tables for directing processing, logs, audit trails and history                                                                                                                                                                                                                                          | Data Object           |
| Routing Queue                  | Items rendered by the Rendering engine are queued for output on the Routing Queue. The requests on the queues may be served by multiple instances of the Routing Engine and may have different priorities to influence the order and urgency of the processing. Queueing is provided by MSMQ.                            | Technology Service    |
| Rules                          | Rules provide the mechanism for decision making in the system. The rules and the Rules Engine are described in section ‎5.1.1.5                                                                                                                                                                                           | Data Object           |
|                                | *Rules and* Rules Engine *(Page 20).*                                                                                                                                                                                                                                                                                    |                       |
| Rules Engine                   | Evaluates Rules. The rules and the Rules Engine are described in section *‎0‎5.1.1.5*                                                                                                                                                                                                                                      | Application Component |
|                                | *Rules and* Rules Engine *(Page 20).*                                                                                                                                                                                                                                                                                    |                       |
| Template                       | Templates are HTML documents with associated CSS for each of the output formats that are to be supported for the item. Within Templates data may be inserted or used to evaluate rules and functions. Section ‎5.1.1.6Templates *(Page 20)* provides more detail.                                                         | Data Object           |
| Template Author                | Template authors can use the template editing tools with variable levels of access according to the user and role permission defined on a template.                                                                                                                                                                      | Business Actor        |
| Template Editor                | For creating and editing templates. Described here Template Editor.Templates are designed in a hierarchy so that portions of a template can be locked by an author allowing other editors to modify those portions. Some portions may be modified by Interactive editors.                                                | Application Component |
| Version Management             | All templates are stored with a version that is linked to the request at the time it was made to ensure that when reconstructing an output item is associated with the same template(s) with which it was created.                                                                                                       | Application Component |
